/*
全品类优惠券5减2
自动预约茅台 执行时间大家自己改下
脚本兼容: QuantumultX, Surge,Loon, JSBox, Node.js
=================================Quantumultx=========================
[task_local]
#全品类优惠券5减2
0 55 * * * * https://github.com/JDWXX/jd_job/blob/master/ms/jd_jdjsb_10_4.js, tag=全品类优惠券5减2, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/jd.png, enabled=true
=================================Loon===================================
[Script]
cron "0 55 * * * *" script-path=https://github.com/JDWXX/jd_job/blob/master/ms/jd_jdjsb_10_4.js,tag=全品类优惠券5减2
===================================Surge================================
全品类优惠券5减2 = type=cron,cronexp="0 55 * * * *",wake-system=1,timeout=3600,script-path=https://github.com/JDWXX/jd_job/blob/master/ms/jd_jdjsb_10_4.js
====================================小火箭=============================
全品类优惠券5减2 = type=cron,script-path=https://github.com/JDWXX/jd_job/blob/master/ms/jd_jdjsb_10_4.js, cronexpr="0 55 * * * *", timeout=3600, enable=true
 */
const $ = new Env('全品类优惠券5减2');
console.log("\n活动地址 https://u.jd.com/BCJekXm\n")
var _0xod5='jsjiami.com.v6',_0xod5_=['‮_0xod5'],_0x5b7c=[_0xod5,'RTPCiEMoGcOY','TMKGw749IA==','wq0EZm7DlA==','HiPCq8OKfMOJwrDCjw==','w57DlQBYwq4=','w5nCrioiZ3vCssKYw7DDjQ==','wockwpJwwok=','w6tMdcKjwrk=','w5fCu8OK','wo3DjsOlPQ==','fcOo5aa96LewwoPCoOWOh+Warl8k','wpXDqWLDgcKpw54R','D8K+w5PDtA==','wr19wqp7R8Oe','w6huW2jDnEHDjwxfw5LCjwM=','I2gPwqlnFDx1w6cWV1jDoQ==','w6dMH8OJJ8Ow','w4HCrj01','ecKpwoZiw7dSDA==','w75KIsOO','BcKywqoFDsKyw6gL','asOEw5M=','wptOw5UAOsOBQ3c=','wrJvwohnRg==','c8KpwpM=','w7TDuMK5OsO7wrNy','aA8ZMsKcSMO3PTw=','w5zCscOZw6/CimcT','w41QPsONKsOwwq3CsBY=','PDtn','w4VtN8OfTXk=','wqRuJsKAw53ClG7Di8O6','wpJhwpZ5QsOP','GiAMXXMmw5c8','TAUCHcKUWcOY','w69IdcKIwr7Ch8OCEg==','e2vClMKeSFUGwrF0wqM=','w6tiJ8Oqwo8tw55eTcOT','wqBrwpdg','wprDgcOlN8OS','w612wqQqRBgtw7wdw5/Chg==','aifCs2TCukU=','FcK3wr9Hwo0=','w4fDsm3DjRnDsg==','AMO8cS0Q','wo/Cl8K9eRISdg==','B8K0w5PDtsOAwrE=','KDR6wr4H','w4fDsjlMwqvCkw==','wrggWsKwTcKmwr/DjMObw5UWE3s2w4HCpjc=','GsOkXhAL','GMKhw5HDuMOA','wpTDpXjDrcKsw5wdw6zDv2k=','wqEkXEnDk1HDpA==','DMK0w4nDl8OBwrVRXyHDjsO3','wq7CgMKMYyI=','woTDisO8FcOQNsKkw7s=','w54+LMK1CQ==','woBswqdtUQ==','NShewrQu','PcOERgYE','aMOTw5NUTg==','w4zDrnXDnic=','DMOKwoViRsKVwqgSFWU=','KsO/w68Lw4Q9T8OMVQ==','w77CtmXDgwo=','dMKWHjPCrQ==','F8KBwqh8wqE=','wqJUS8ODbg==','w49rEMOrwr0=','w4F8dMKOwrg=','Q8KiLHhNwrc=','PcKAwplzwqgqw4NQ','aiIRwolFDzY=','GiAMVmkkw48NJn9K','w77DpMKsFsOK','O8KQw6lhw6w=','X3rCo8KcRg==','woZPLMK6w6Q=','CMK2wohwwpE=','wrrDsMOdXA==','6aOk5Y2J5oio5Yix7762','44CcZ+WEjeWQjOexn+S9o+aCs+WIpsK75Ya8SxI=','44Cf5o2656af44Cx6K+z5YSw6Iyi5Y2O5Lqa5LmS6LW35Y275Lilw70dYcKCW1BC55iV5oy35L2g55eXw4zDmsOfA8KXf+eZpeS6qOS4seetneWIhuiNn+WPmA==','5YSy5ZCk57KW5Lym5oCn5Ym8woLlh7cf','wr8lwq9Owp0=','U2oJfC55wpFjeigOTMK9wr8Vdg==','w4t6wpEDQg==','wqzDlcOvwpMp','By1VU1Jkw5k8eG8FSsKrwqg=','SUc1wqXCo1YvwojDpg==','wq4nHcOWwp51w7AQa8OSWwnDp8KiLWHCu8KCwrgoNsKRwrYvccOBIHROwqQawoolZMObXTXCjhIlw4jDknZAwqlWGsKGH3LCqsKZRMO1YcKaw6vDjmvDrDnCnsObZA==','O8OUwrIZwpEuCsODRw==','wpPDscOBwpg2w71Vw5c=','b3rCksK6Qk9ewqpjwrlVHRXDnVbDomlywqUYMis7w5hgKVHDrMKQLMO4','XsOGwo8=','wqDmiqzooIjlhoDngpDml6LplLLDi8K2','KeOBleODkeOAueODsOOAieOAouaKtuijquaVh+mWgcOcYg==','44Cu44Cs44GH44KC44OI44C7','w7rDrmvDoDQ=','OwgTeGNVwqguK0wawrhuDTLDt343IcO/wpjCqsKpw5t1w5zCmsOtCxnCh8OkE8Kqw6fCgcKqwpU=','wpXChsK5ZUlePMKHw6LCnsOMK2XCtXvDhsKTwppUw4VXwrXDg8OTcsKMSihqw5k5wp5mGQXCl8OcSRNIMGvCsGzCu8OaTcKOw6IvwqfClcKCwrdmw6MZREV9wqxDfsKHwr7ClFTChmnCn189w7/DjcOaw5JPLh7Dlw5cDjPCrWQfYcK4','PiLDgsK1U1Qew6crw7J6QRXCn0XDry4wwqoIIyEmw45vfAHCtMOVacK0PmkVJ117','BcK+w5PDtA==','w4/DkzFewrE=','DcOZWjIl','dCwWwqZ0','wrx5w60=','wr9rw6ch','emY+dGo=','BMKGw4lMw5g=','UcKUw404Aw==','YSgC','w6Rywr0J','w5/CoOWkvei2hcOkwpLlj7flmbjCoDo=','w5zDp0XDiCU=','Y8OFw4I=','5Yel5ZCH57Gy5L6y5oKe5YqtJ+WGjcK4','TzHCvQ==','wqd7woZXTMOfw4/CqyXCvw==','w49sPMORXFMW','w7nCsmjDrRA=','wrTDocO0woU5','H8KRw69Gw6c=','6LWN5Y2Yw4vjgKE=','Xk80SWkHw7B5','EcOqWsOtw5hdwrrDsxl5','wpTDo8O5wp41w7k=','B8KGw7fDhsOe','BwbCrcO/Sg==','eErChsKmTw==','csKrw6s1Ng==','w4/Dq8K0woIR','w6RCZg==','wrhhwoM=','E+aKm+S4guW6hOWJrmbCm+e8se+/rF/DvcOpNcOGw6/CrcKtbeOCgm3CnMOxw5/CjkHCh3XChcOh77yb556e57+X5YWD5ZCXwoo=','wqByw4kcOQ==','w43CrjAORmHCtMKC','w6rCt8OFw67Cng==','Ng81W2s=','wrJDw5wHKA==','DsOwXw==','w6ttEMOEDQ==','bl0/TGY=','w6TDv8K8wpIR','wpgvwoxbwqc=','wpFbwoJTUA==','AcOeaMOhw4c=','wq7DqsONQcKMMT7DoA==','b8KUw7oIHw==','bcKWAxPChQ==','aCLCgnXCpw==','w5/Dv2bDhA==','Ri7Cg0g=','wonCmsKoew==','PTVw','w7RsC8OhEg==','JsKqw5ZFw6I=','wp/DlMOgwoIa','wrxZw4EWFQ==','PgjChMOCfw==','w4tmCcO7dA==','w4zDsiN/wrbClh4=','wqHnr57lv5IL','ceemiOWQmeaKtuigpuS5n+ehoQ==','w5kNLcK2Ag==','w6BoNA==','T8K3KQTCqQ==','cGHChw==','w6nDujJdwoY=','wpROw7kXJQ==','W8K7w4k5GQ==','w67Du8K4woc3w44=','OMKTw758w5sJPsKW','w4x0wqMleg==','wp7DoXjDg8Kt','BsOOwoVSSw==','w4DDs8KzwpYa','ZsOZw6lPYxHDuw==','A8KJw7hlw5sJPsKW','wo1Xbw==','M8OYcVvDocOqwpzlv5Xlp7bjgYrkuLXkurrotKflj7o=','N8OsXcOcw7lYwrLDmw==','QsKow7ogGw==','wrhkw64hBw==','wpPCm8Kufj0QfsKD','KDYdYlIpw44x','KeiuqemEl+aWgueagOW9l+iOnuWMh8Ksw5kBwpIyBlF0I2fDvFTCk8KdwrYiXMK8wrl9w6QpYEoPcnTCj10Ow7rDvMK1w4U4NC7DkMK8w6JrXijCsQ==','w6N1woIufA==','NR5xwqQE','w6/CnMOjw4XCng==','TcOLwpU5woA=','EcO6VsOKw7lWwqvDlwxn','w7cMwqdCIlPltZTlpZrmlKvCscKDWQ==','di3Cv0DCtWNEwrQ=','w6vDsMKywoU7','TCHCtGXCgFbCp8Ow','c+itpemHkeaXsueYhuW/kuiPluWMocKVwps0TMOUBQ==','UMKUCTPChg==','wr1owrZWbg==','wq9/asO/Sg==','G2zDowfDjkRvw6TDpMKATMKkdk1caEhBwq4Fw4nCh8KfOwPCmsKjKsOKAHYYXVArw6EXIcOYw5HCucKYHhVvw4nDqcODLXJ0w6oIezzChcOMQ1tBwpPDrsOcwoYhwoHDuX7CmsOfw5x1w7nDoCXDncKGFChRcjRBHsO2NcKKVcOXVsORCMKXYcKMHMOjS27CscKMNETCozLDnic3BMKXwohjNEjDrcKxCMOhZcKwPsO/WcOnfcK/wpwawqXCv8KvGcOCcivDl8O7wqHDiVV+w59UKmrDr1jDlXDDosKEZhnDk8K+wprDiGg8w5fCjldFUcK5w5I0AHc0JcKYwplINcOvecOBBV1nZ8ONCDhAOcKkMFscworCp8OALcKFw4Z+A2k+wrUtcFvDv8O9bQIww6IUGADDhMKwwoMwe0TDgMO7wr5Pf8OvUFEew4DDicOkZsOFFinChsKHw6PDscKbCcO0GcKEw5lELcKJwoLChjnDkzZvZVZaHsOgBsKtw5rDn2E=','wpNGEcKBw7Q=','W8Ouwr4Bwqw=','NRIbZVk=','I8O4wpJEZg==','DsK6w5nDqcOO','w4HDhMOtIcKC','w4TCsUfDrSQ=','TMKXw6cOYTonMgURwrrDgMODeCl+H8OIw7RGw5ofKQ7Cu3suwpgwwoYCXcKfw6bCn8K0w4cJX8KCaVfDpmHDmEMODMOMwrFNw5J/w4JvbgvDgsO/YjHDmVbCvGldwqt0ZjNXJwAXEsODH8O0fEPCnsOWfcO8wqtEQjTDjcO0NVnDkMKdP2TDlMOXw7UnNHN3K8OdaMOhU8O7NmbDiyDDkiBUwqfCkBhxUcOhw53DlsKsw6k9w4l6wpIGUsORwqPCkg==','YzrDvFTCgBvCsMO9w40cw7HDqyzDhg==','Dn3CokkkdsO/asK0XcK+U8O6w458w5Z1UCA5wobClMOEw5bCuAjCq8OqfMOCw7PDjyY9FHB8w5rDmMKFDi0dwr1QJsKKw7bCnMKhHxBcZcK6XGtTw6Rkc1pxAg==','HcO9fzcQw6IPwoM=','WMOMw4BSVQ==','w6DCln3DjRk=','HzTClsOafA==','bTrCtHk=','wpnDmWTDjcKB','w7tNG8O8wrM=','asOmwrUTwrsuCcOZA0k=','w79bwpECVA==','w7gMwq8=','JcKvwp0sDw==','w6JQNg==','eAUywr5V','SsKHOTLCpMKkw5PCmE49','TSjfsujzZiadmqi.TIJTcqom.v6=='];if(function(_0x6d2d6d,_0x2ff2e8,_0x43eb30){function _0x1d9004(_0x10abc6,_0xe8dee8,_0x2e0ead,_0x3dc132,_0x1ad279,_0x1e1cce){_0xe8dee8=_0xe8dee8>>0x8,_0x1ad279='po';var _0x2a7aa3='shift',_0xf1ceb9='push',_0x1e1cce='‮';if(_0xe8dee8<_0x10abc6){while(--_0x10abc6){_0x3dc132=_0x6d2d6d[_0x2a7aa3]();if(_0xe8dee8===_0x10abc6&&_0x1e1cce==='‮'&&_0x1e1cce['length']===0x1){_0xe8dee8=_0x3dc132,_0x2e0ead=_0x6d2d6d[_0x1ad279+'p']();}else if(_0xe8dee8&&_0x2e0ead['replace'](/[TSfuzZdqTIJTq=]/g,'')===_0xe8dee8){_0x6d2d6d[_0xf1ceb9](_0x3dc132);}}_0x6d2d6d[_0xf1ceb9](_0x6d2d6d[_0x2a7aa3]());}return 0xd4a64;};return _0x1d9004(++_0x2ff2e8,_0x43eb30)>>_0x2ff2e8^_0x43eb30;}(_0x5b7c,0xef,0xef00),_0x5b7c){_0xod5_=_0x5b7c['length']^0xef;};function _0x29e0(_0xfb3dd9,_0x365b27){_0xfb3dd9=~~'0x'['concat'](_0xfb3dd9['slice'](0x1));var _0xc4d97c=_0x5b7c[_0xfb3dd9];if(_0x29e0['HCpsvl']===undefined){(function(){var _0x3a2272=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x4bf6a4='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x3a2272['atob']||(_0x3a2272['atob']=function(_0x5c6c95){var _0x20573c=String(_0x5c6c95)['replace'](/=+$/,'');for(var _0x435614=0x0,_0x215d5a,_0x440004,_0x59162d=0x0,_0x38ae62='';_0x440004=_0x20573c['charAt'](_0x59162d++);~_0x440004&&(_0x215d5a=_0x435614%0x4?_0x215d5a*0x40+_0x440004:_0x440004,_0x435614++%0x4)?_0x38ae62+=String['fromCharCode'](0xff&_0x215d5a>>(-0x2*_0x435614&0x6)):0x0){_0x440004=_0x4bf6a4['indexOf'](_0x440004);}return _0x38ae62;});}());function _0x54fbff(_0x2adcd0,_0x365b27){var _0x55900d=[],_0x117f3c=0x0,_0x30e885,_0x205e42='',_0x48923d='';_0x2adcd0=atob(_0x2adcd0);for(var _0x196e00=0x0,_0xc32573=_0x2adcd0['length'];_0x196e00<_0xc32573;_0x196e00++){_0x48923d+='%'+('00'+_0x2adcd0['charCodeAt'](_0x196e00)['toString'](0x10))['slice'](-0x2);}_0x2adcd0=decodeURIComponent(_0x48923d);for(var _0x1849e0=0x0;_0x1849e0<0x100;_0x1849e0++){_0x55900d[_0x1849e0]=_0x1849e0;}for(_0x1849e0=0x0;_0x1849e0<0x100;_0x1849e0++){_0x117f3c=(_0x117f3c+_0x55900d[_0x1849e0]+_0x365b27['charCodeAt'](_0x1849e0%_0x365b27['length']))%0x100;_0x30e885=_0x55900d[_0x1849e0];_0x55900d[_0x1849e0]=_0x55900d[_0x117f3c];_0x55900d[_0x117f3c]=_0x30e885;}_0x1849e0=0x0;_0x117f3c=0x0;for(var _0x38f96d=0x0;_0x38f96d<_0x2adcd0['length'];_0x38f96d++){_0x1849e0=(_0x1849e0+0x1)%0x100;_0x117f3c=(_0x117f3c+_0x55900d[_0x1849e0])%0x100;_0x30e885=_0x55900d[_0x1849e0];_0x55900d[_0x1849e0]=_0x55900d[_0x117f3c];_0x55900d[_0x117f3c]=_0x30e885;_0x205e42+=String['fromCharCode'](_0x2adcd0['charCodeAt'](_0x38f96d)^_0x55900d[(_0x55900d[_0x1849e0]+_0x55900d[_0x117f3c])%0x100]);}return _0x205e42;}_0x29e0['mDnejN']=_0x54fbff;_0x29e0['ayuUAr']={};_0x29e0['HCpsvl']=!![];}var _0x46b8d8=_0x29e0['ayuUAr'][_0xfb3dd9];if(_0x46b8d8===undefined){if(_0x29e0['PMvXxO']===undefined){_0x29e0['PMvXxO']=!![];}_0xc4d97c=_0x29e0['mDnejN'](_0xc4d97c,_0x365b27);_0x29e0['ayuUAr'][_0xfb3dd9]=_0xc4d97c;}else{_0xc4d97c=_0x46b8d8;}return _0xc4d97c;};const notify=$[_0x29e0('‮0','t@TO')]()?require(_0x29e0('‫1','#Q(B')):'';const jdCookieNode=$['isNode']()?require(_0x29e0('‫2','d&vI')):'';const fetch=require('node-fetch');let cookiesArr=[],cookie='',message;if($[_0x29e0('‮3','Y*Yg')]()){Object[_0x29e0('‮4','FKY6')](jdCookieNode)[_0x29e0('‮5','p%fb')](_0x702200=>{cookiesArr[_0x29e0('‮6','Y*Yg')](jdCookieNode[_0x702200]);});if(process['env'][_0x29e0('‮7','pOUE')]&&process[_0x29e0('‮8','(7D0')][_0x29e0('‫9','KxyW')]===_0x29e0('‮a','t@TO'))console[_0x29e0('‮b','p%fb')]=()=>{};}else{cookiesArr=[$[_0x29e0('‮c','XgyE')]('CookieJD'),$['getdata'](_0x29e0('‫d','k$Y)')),...jsonParse($[_0x29e0('‫e','xAYE')](_0x29e0('‫f','Y*Yg'))||'[]')[_0x29e0('‫10','qjpQ')](_0x904875=>_0x904875[_0x29e0('‮11','fti*')])]['filter'](_0x39c702=>!!_0x39c702);}Date[_0x29e0('‫12','*@8z')][_0x29e0('‮13','t@TO')]=function(_0x159ccb){var _0x5e7f6e={'ynmom':function(_0x1660ff,_0xa5a07){return _0x1660ff+_0xa5a07;},'ORRyJ':function(_0x4006d6,_0x5ad9bb){return _0x4006d6-_0x5ad9bb;},'jyCVr':function(_0x2d2e65,_0x34e04f){return _0x2d2e65==_0x34e04f;}};var _0x479e57={'M+':this[_0x29e0('‮14','aC@W')]()+0x1,'d+':this[_0x29e0('‮15','k$Y)')](),'h+':this[_0x29e0('‫16','R7qH')](),'m+':this[_0x29e0('‫17','bXqu')](),'s+':this[_0x29e0('‫18','OJnN')](),'S':this['getMilliseconds']()};if(/(y+)/[_0x29e0('‮19','t@TO')](_0x159ccb))_0x159ccb=_0x159ccb['replace'](RegExp['$1'],_0x5e7f6e[_0x29e0('‮1a','HkpY')](this[_0x29e0('‮1b','sJ)W')](),'')[_0x29e0('‫1c','jpUc')](_0x5e7f6e[_0x29e0('‮1d','Ka1i')](0x4,RegExp['$1'][_0x29e0('‫1e','@$3F')])));for(var _0x186838 in _0x479e57)if(new RegExp(_0x5e7f6e[_0x29e0('‮1f','o&Dg')]('(',_0x186838)+')')['test'](_0x159ccb))_0x159ccb=_0x159ccb[_0x29e0('‮20','[g$U')](RegExp['$1'],_0x5e7f6e['jyCVr'](RegExp['$1'][_0x29e0('‫21','q4aS')],0x1)?_0x479e57[_0x186838]:_0x5e7f6e[_0x29e0('‮22','qjpQ')]('00',_0x479e57[_0x186838])['substr'](_0x5e7f6e['ynmom']('',_0x479e57[_0x186838])[_0x29e0('‮23','UXjt')]));return _0x159ccb;};var date=new Date();function getCurrentDateTimeT(){var _0x1cad41={'cvBRv':_0x29e0('‮24','[(dt'),'SrAvQ':function(_0x5e36ff,_0x75789f){return _0x5e36ff+_0x75789f;},'mXKow':function(_0x45a797,_0x583863){return _0x45a797+_0x583863;},'TbCyr':function(_0x273f3f,_0x4e0dd9){return _0x273f3f+_0x4e0dd9;},'drIeD':function(_0x9ff7cd,_0x3231e6){return _0x9ff7cd+_0x3231e6;},'DVZDy':function(_0x4305dc,_0x4ab98f){return _0x4305dc+_0x4ab98f;},'FsLPM':function(_0x38b79f,_0x48df0a){return _0x38b79f(_0x48df0a);},'gyvtJ':function(_0x5ab6f1,_0x561d37){return _0x5ab6f1(_0x561d37);}};var _0x15deb=_0x1cad41[_0x29e0('‫25','o&Dg')][_0x29e0('‫26','q4aS')]('|'),_0x2b4602=0x0;while(!![]){switch(_0x15deb[_0x2b4602++]){case'0':var _0x587ccf=_0xd366f2[_0x29e0('‫27','iA2b')]();continue;case'1':var _0x4fe580=_0xd366f2['getHours']();continue;case'2':var _0xd366f2=new Date();continue;case'3':var _0x27d405=_0xd366f2[_0x29e0('‫28','#Q(B')]();continue;case'4':var _0x20d916=_0xd366f2['getMilliseconds']();continue;case'5':var _0x4a9abf=_0xd366f2[_0x29e0('‮29','q4aS')]();continue;case'6':var _0x47df5e=_0x1cad41[_0x29e0('‮2a','[g$U')](_0xd366f2[_0x29e0('‫2b','HkpY')](),0x1);continue;case'7':return _0x1cad41[_0x29e0('‮2a','[g$U')](_0x1cad41['mXKow'](_0x1cad41['mXKow'](_0x1cad41['mXKow'](_0x1cad41['TbCyr'](_0x1cad41[_0x29e0('‮2c','[(dt')](_0x1cad41[_0x29e0('‫2d','t@TO')](_0x1cad41[_0x29e0('‫2e','qjpQ')](_0x1cad41[_0x29e0('‫2e','qjpQ')](_0x1cad41[_0x29e0('‫2f','o&Dg')](_0x4a9abf,'年'),formatZero(_0x47df5e)),'月')+formatZero(_0x27d405),'日\x20'),_0x1cad41['FsLPM'](formatZero,_0x4fe580)),':')+_0x1cad41[_0x29e0('‮30','(7D0')](formatZero,_0x587ccf),':'),formatZero(_0xd4c5c)),':'),_0x1cad41[_0x29e0('‫31','@$3F')](formatZero,_0x20d916));case'8':var _0xd4c5c=_0xd366f2[_0x29e0('‮32','8Qp(')]();continue;}break;}}function getCurrentDateTimeZ(_0x51c06c){var _0x34b68a={'MdEBf':function(_0x3c6da1,_0x2d5a21){return _0x3c6da1+_0x2d5a21;},'ClCRW':function(_0x379fb6,_0x4065d1){return _0x379fb6+_0x4065d1;},'IQuNi':function(_0x42699d,_0x40727){return _0x42699d(_0x40727);}};var _0x2c39b5=_0x29e0('‫33','3mEA')[_0x29e0('‫34','v^cq')]('|'),_0x59f217=0x0;while(!![]){switch(_0x2c39b5[_0x59f217++]){case'0':return _0x34b68a[_0x29e0('‮35','D7ub')](_0x34b68a[_0x29e0('‫36','Ka1i')](_0x34b68a['ClCRW'](_0x34b68a[_0x29e0('‮37','g#Rg')](_0x34b68a[_0x29e0('‮38','OJnN')](_0x64cc9,'-'),_0x34b68a[_0x29e0('‫39','R7qH')](formatZero,_0x445ac0)),'-')+formatZero(_0x3af04b)+'\x20',_0x51c06c),_0x29e0('‫3a','o&Dg'));case'1':var _0x445ac0=_0x4455b6[_0x29e0('‫3b','Ka1i')]()+0x1;continue;case'2':var _0x3af04b=_0x4455b6[_0x29e0('‮3c','d&vI')]();continue;case'3':var _0x4455b6=new Date();continue;case'4':var _0x64cc9=_0x4455b6[_0x29e0('‫3d','aC@W')]();continue;}break;}}function formatZero(_0xc7bdb1){var _0x161348={'myaHP':function(_0x3636b4,_0x5478c6){return _0x3636b4>=_0x5478c6;},'Vproy':function(_0x525513,_0x14205f){return _0x525513<=_0x14205f;},'CtCOg':function(_0x5492e9,_0x4bfba3){return _0x5492e9!==_0x4bfba3;},'RSeNV':'VezME','cbWIb':function(_0x1be947,_0x59ac96){return _0x1be947+_0x59ac96;}};if(_0x161348[_0x29e0('‫3e','XgyE')](_0xc7bdb1,0x0)&&_0x161348[_0x29e0('‫3f','dV8i')](_0xc7bdb1,0x9)){if(_0x161348[_0x29e0('‮40','bXqu')](_0x161348[_0x29e0('‮41','*@8z')],_0x161348[_0x29e0('‮42','Ka1i')])){cookiesArr[_0x29e0('‫43','HCuB')](jdCookieNode[item]);}else{return _0x161348['cbWIb']('0',_0xc7bdb1);}}else{return _0xc7bdb1;}}function sleep(_0x28ce2e){return new Promise(_0x2f60b8=>setTimeout(_0x2f60b8,_0x28ce2e));}!(async()=>{var _0x188228={'ttaGn':_0x29e0('‫44','R*0E'),'IqCth':function(_0x3b8553,_0xb739cf){return _0x3b8553+_0xb739cf;},'rqtHr':function(_0x425eae,_0xa6623a){return _0x425eae+_0xa6623a;},'qAJeb':_0x29e0('‫45','d&vI'),'qZoOM':_0x29e0('‮46','(7D0'),'ifRBM':'https://bean.m.jd.com/bean/signIndex.action','jYhmD':_0x29e0('‫47','Ka1i'),'PLyDs':function(_0x24c13d,_0x4f4178){return _0x24c13d!==_0x4f4178;},'wJHEY':_0x29e0('‮48','aLwy'),'uBWsq':function(_0x35f7b1,_0x35048e){return _0x35f7b1!=_0x35048e;},'HWEql':function(_0x3fb524,_0x48442e){return _0x3fb524+_0x48442e;},'ZYEKO':function(_0x42dc6b,_0x1e530){return _0x42dc6b+_0x1e530;},'kENcf':'账号:【','dDfun':function(_0x1d5d63,_0x2fbbbe){return _0x1d5d63===_0x2fbbbe;},'tKFpX':'ykskP','WXivX':function(_0x3e58db,_0x4e33e0){return _0x3e58db!==_0x4e33e0;},'wpFbH':'kpNls','lWJWj':function(_0x51ae01,_0x283f3d){return _0x51ae01(_0x283f3d);},'LVcGx':_0x29e0('‫49','aC@W'),'JYtOx':_0x29e0('‮4a','sJ)W'),'MubbR':_0x29e0('‮4b','^Sor'),'qxCXF':function(_0x38640e,_0x1f6bdc){return _0x38640e(_0x1f6bdc);},'Qcheu':function(_0x49cdfd,_0xe2ee70){return _0x49cdfd(_0xe2ee70);},'KJMKw':function(_0x35da8e,_0x2ac4bc){return _0x35da8e+_0x2ac4bc;},'cIVCW':function(_0x55be19,_0x109daa){return _0x55be19<_0x109daa;},'eRAbN':'\x0a============【京东时间校准】===============','tKSFl':'https://api.m.jd.com/client.action?functionId=queryMaterialProducts&client=wh5','eanwA':'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9','fajrR':_0x29e0('‮4c','aC@W'),'uRvFj':_0x29e0('‮4d','qWe^'),'EUfGs':_0x29e0('‫4e','OJnN'),'cAPOp':_0x29e0('‫4f','3mEA'),'WferQ':_0x29e0('‫50','^Sor'),'TdXbN':_0x29e0('‫51','bXqu'),'qpSbi':_0x29e0('‮52','3mEA'),'zSZGQ':'\x0a========================================','bDWsK':_0x29e0('‫53','FKY6'),'mSKRj':function(_0x40c6da,_0x152a60){return _0x40c6da(_0x152a60);},'pnxoB':function(_0x4f3974,_0x4ffd31){return _0x4f3974/_0x4ffd31;},'uXJzM':function(_0x347f49,_0x25ed01){return _0x347f49-_0x25ed01;},'mdQOP':function(_0x71b0c3,_0x49d5af){return _0x71b0c3(_0x49d5af);},'SQBzy':function(_0x4ae37f,_0x437437){return _0x4ae37f>_0x437437;},'xhvWx':function(_0x1fb5a1,_0x5cd862){return _0x1fb5a1*_0x5cd862;},'vErub':function(_0x529e33,_0x4d52e1){return _0x529e33(_0x4d52e1);},'BmevY':function(_0x58b693,_0x164b7f){return _0x58b693+_0x164b7f;},'oZsmq':_0x29e0('‫54','UQN#'),'xnWzY':function(_0x48a479){return _0x48a479();},'EDsSZ':_0x29e0('‫55','qWe^'),'FgsIK':function(_0x470546,_0x517d0e){return _0x470546(_0x517d0e);},'THNNu':_0x29e0('‮56','@$3F'),'NGbns':_0x29e0('‮57','HOUz'),'GZXuF':function(_0x123bae,_0x1b73c1,_0x8f7a9f){return _0x123bae(_0x1b73c1,_0x8f7a9f);},'HWcuE':function(_0x5a30c0,_0x3449fe){return _0x5a30c0+_0x3449fe;},'cjJHo':_0x29e0('‫58','[g$U'),'ekdxz':_0x29e0('‮59','bXqu'),'IwNGZ':'\x22,\x22mitemAddrId\x22:\x22\x22,\x22geo\x22:{\x22lng\x22:\x22\x22,\x22lat\x22:\x22\x22}}&client=wh5&clientVersion=1.0.0','mPtgg':_0x29e0('‫5a','q4aS')};if(!cookiesArr[0x0]){if(_0x188228[_0x29e0('‫5b','UXjt')](_0x188228[_0x29e0('‫5c','o&Dg')],_0x29e0('‮5d','d&vI'))){$[_0x29e0('‮5e','KxyW')]($[_0x29e0('‮5f','KxyW')],_0x188228[_0x29e0('‫60','HOUz')],_0x188228[_0x29e0('‮61','dV8i')],{'open-url':_0x188228[_0x29e0('‫62','1wq6')]});return;}else{$[_0x29e0('‫63','d&vI')]('','❌\x20'+$[_0x29e0('‮64','sJ)W')]+_0x29e0('‫65','iA2b')+e+'!','');}}try{if(_0x188228['WXivX']('kpNls',_0x188228[_0x29e0('‮66','@$3F')])){console[_0x29e0('‫67','(7D0')](_0x29e0('‫68','v^cq'));console[_0x29e0('‫69','UQN#')](json);if(json[_0x29e0('‫6a','t@TO')][_0x29e0('‫6b','fti*')](_0x188228[_0x29e0('‫6c','v^cq')])!=-0x1)_0x41453d+=_0x188228[_0x29e0('‮6d','^Sor')](_0x188228[_0x29e0('‮6e','dV8i')](_0x188228['rqtHr'](_0x29e0('‮6f','8Qp('),$[_0x29e0('‫70','HOUz')]),_0x188228['qAJeb'])+json[_0x29e0('‮71','R*0E')],'\x0a');}else{$[_0x29e0('‮72','^Sor')]()?_0x188228[_0x29e0('‫73','q4aS')](require,_0x188228[_0x29e0('‮74','1%Hf')]):'';}}catch(_0x2c5201){if(_0x188228[_0x29e0('‮75','bXqu')](_0x188228[_0x29e0('‮76','1wq6')],_0x188228[_0x29e0('‮77','bjIb')])){return'0'+n;}else{console[_0x29e0('‮78','R7qH')]('\x0a\x0a我觉得你没拉我仓库，脚本不执行了\x0a\x0a');console[_0x29e0('‫79','t@TO')](_0x29e0('‮7a','jpUc'));return;}}let _0x5b2726=_0x188228['lWJWj'](parseInt,_0x188228[_0x29e0('‫7b','KxyW')](formatZero,date[_0x29e0('‮7c','FKY6')]()));let _0xd57107='';_0x5b2726=_0x188228[_0x29e0('‫7d','xAYE')](parseInt,_0x5b2726);_0xd57107=_0x188228[_0x29e0('‮7e','aC@W')](_0x5b2726,0x1);if(_0x188228[_0x29e0('‮7f','KxyW')](_0x5b2726,0xa))_0xd57107=0xa;let _0x1a98ac='';console['log'](_0xd57107);console[_0x29e0('‫80','R*0E')](_0x188228[_0x29e0('‮81','Y*Yg')]);await fetch(_0x188228['tKSFl'],{'headers':{'accept':_0x188228[_0x29e0('‫82','HOUz')],'accept-language':_0x188228[_0x29e0('‫83','bjIb')],'cache-control':_0x188228[_0x29e0('‫84','aLwy')],'sec-ch-ua':_0x188228[_0x29e0('‮85','t@TO')],'sec-ch-ua-mobile':'?0','sec-ch-ua-platform':_0x188228[_0x29e0('‮86','R*0E')],'sec-fetch-dest':_0x29e0('‮87','HCuB'),'sec-fetch-mode':_0x188228[_0x29e0('‫88','1wq6')],'sec-fetch-site':_0x29e0('‫5a','q4aS'),'sec-fetch-user':'?1','upgrade-insecure-requests':'1'},'referrerPolicy':_0x188228[_0x29e0('‫89','D7ub')],'body':null,'method':_0x188228[_0x29e0('‫8a','jpUc')]})[_0x29e0('‫8b','@$3F')](_0x113c64=>_0x113c64[_0x29e0('‮8c','(]Ec')]())[_0x29e0('‫8d','[g$U')](_0x42ab9c=>{_0x1a98ac=_0x42ab9c['currentTime2'];});console[_0x29e0('‫8e','qjpQ')](_0x188228[_0x29e0('‫8f','Y*Yg')]);console['log'](_0x188228[_0x29e0('‫90','dV8i')](_0x188228[_0x29e0('‫91','^Sor')],_0x188228[_0x29e0('‮92','KxyW')](getCurrentDateTimeZ,_0xd57107)));ddhm=_0x188228['pnxoB'](_0x188228[_0x29e0('‫93','1%Hf')](new Date(_0x188228[_0x29e0('‫94','fti*')](getCurrentDateTimeZ,_0xd57107))[_0x29e0('‫95','UXjt')](),_0x1a98ac),0x3e8);console['log'](_0x29e0('‫96','UXjt')+ddhm+_0x29e0('‮97','qjpQ'));if(_0x188228[_0x29e0('‮98','[(dt')](ddhm,0x708)){console[_0x29e0('‮99','OJnN')]('等待时间大于\x201800\x20秒（半小时），终止运行\x0a');return;}ddhm=_0x188228['xhvWx'](ddhm,0x3e8);await _0x188228[_0x29e0('‫9a','D7ub')](sleep,ddhm);let _0x41453d='';console[_0x29e0('‫9b','bXqu')]('\x0a========================================');console['log'](_0x188228['BmevY'](_0x188228[_0x29e0('‫9c','UXjt')](_0x188228['oZsmq'],_0x188228['xnWzY'](getCurrentDateTimeT)),_0x188228[_0x29e0('‮9d','KxyW')]));for(let _0x43b50d=0x0;_0x188228[_0x29e0('‮9e','1wq6')](_0x43b50d,cookiesArr[_0x29e0('‮9f','bjIb')]);_0x43b50d++){if(cookiesArr[_0x43b50d]){cookie=cookiesArr[_0x43b50d];$[_0x29e0('‫a0','dV8i')]=_0x188228[_0x29e0('‮a1','sJ)W')](decodeURIComponent,cookie[_0x29e0('‫a2','iA2b')](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x29e0('‮a3','8Qp(')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$['index']=_0x188228[_0x29e0('‫a4','bjIb')](_0x43b50d,0x1);$[_0x29e0('‮a5','(7D0')]=!![];$[_0x29e0('‮a6','dV8i')]='';message='';console[_0x29e0('‫a7','g#Rg')](_0x29e0('‫a8','D7ub')+$['index']+'】'+($['nickName']||$[_0x29e0('‮a9','R*0E')])+'*********\x0a');if(!$['isLogin']){if(_0x29e0('‮aa','1wq6')!=='CMEXI'){$['msg']($[_0x29e0('‮64','sJ)W')],'【提示】cookie已失效','京东账号'+$[_0x29e0('‫ab','KxyW')]+'\x20'+($[_0x29e0('‮ac','[g$U')]||$[_0x29e0('‫ad','aC@W')])+_0x29e0('‫ae','UQN#'),{'open-url':_0x188228[_0x29e0('‫af','sJ)W')]});if($['isNode']()){if(_0x188228[_0x29e0('‫b0','qjpQ')](_0x188228[_0x29e0('‫b1','xAYE')],_0x188228[_0x29e0('‫b2','3mEA')])){await notify[_0x29e0('‮b3','R*0E')]($['name']+_0x29e0('‮b4','pRo6')+$[_0x29e0('‮b5','UQN#')],'京东账号'+$[_0x29e0('‮b6','bjIb')]+'\x20'+$[_0x29e0('‫b7','jpUc')]+_0x29e0('‫b8','o&Dg'));}else{return n;}}continue;}else{$['msg']($['name'],_0x188228['qZoOM'],_0x188228[_0x29e0('‮b9','D7ub')],{'open-url':_0x188228[_0x29e0('‫ba','t@TO')]});return;}}try{let _0x3d3ea4=_0x188228[_0x29e0('‫bb','g#Rg')];let _0x323715=_0x29e0('‮bc','UQN#');_0x188228[_0x29e0('‫bd','*@8z')](fetch,_0x188228['BmevY'](_0x188228[_0x29e0('‮be','3mEA')](_0x188228[_0x29e0('‮bf','aC@W')](_0x188228[_0x29e0('‮c0','8Qp(')](_0x188228['cjJHo']+_0x3d3ea4,_0x188228[_0x29e0('‮c1','q4aS')]),_0x29e0('‮c2','HkpY')),_0x323715),_0x188228[_0x29e0('‫c3','v^cq')]),{'headers':{'accept':_0x29e0('‮c4','1wq6'),'accept-language':_0x29e0('‮c5','jpUc'),'sec-ch-ua':_0x29e0('‫c6','(]Ec'),'sec-ch-ua-mobile':'?0','sec-ch-ua-platform':'\x22Windows\x22','sec-fetch-dest':_0x29e0('‮c7','o&Dg'),'sec-fetch-mode':_0x188228[_0x29e0('‮c8','(7D0')],'sec-fetch-site':_0x188228[_0x29e0('‫c9','v^cq')],'sec-fetch-user':'?1','upgrade-insecure-requests':'1','cookie':cookie},'referrerPolicy':_0x188228[_0x29e0('‮ca','1%Hf')],'body':null,'method':_0x188228['qpSbi']})['then'](_0x37c1ac=>_0x37c1ac['json']())[_0x29e0('‫cb','jpUc')](_0x282ce3=>{var _0x58a43e={'uHAne':_0x188228[_0x29e0('‫cc','iA2b')]};if(_0x188228['PLyDs']('RXUSP',_0x188228[_0x29e0('‫cd','OJnN')])){notify[_0x29e0('‮ce','3mEA')](_0x58a43e[_0x29e0('‮cf','sJ)W')],_0x41453d);}else{console[_0x29e0('‫d0','pRo6')](_0x188228[_0x29e0('‫d1','pOUE')]);console[_0x29e0('‫d2','Y*Yg')](_0x282ce3);if(_0x188228[_0x29e0('‫d3','d&vI')](_0x282ce3[_0x29e0('‫d4','D7ub')][_0x29e0('‫d5','(]Ec')](_0x188228[_0x29e0('‫d6','1wq6')]),-0x1))_0x41453d+=_0x188228['HWEql'](_0x188228['ZYEKO'](_0x188228[_0x29e0('‮d7','#Q(B')]+$[_0x29e0('‮d8','1%Hf')]+_0x188228['qAJeb'],_0x282ce3[_0x29e0('‫d4','D7ub')]),'\x0a');}});}catch(_0x5ca6d0){}}}if(_0x188228[_0x29e0('‫d9','UXjt')](_0x41453d,'')){notify[_0x29e0('‮da','FKY6')](_0x188228[_0x29e0('‫db','aLwy')],_0x41453d);}})()[_0x29e0('‮dc','R7qH')](_0x1b2817=>{$[_0x29e0('‮dd','xAYE')]('','❌\x20'+$[_0x29e0('‫de','HkpY')]+_0x29e0('‮df','DYKV')+_0x1b2817+'!','');})[_0x29e0('‫e0','iA2b')](()=>{$[_0x29e0('‫e1','q4aS')]();});;_0xod5='jsjiami.com.v6';
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
